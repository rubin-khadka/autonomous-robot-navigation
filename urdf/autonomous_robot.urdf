<?xml version="1.0"?>

<robot name="autonomous_robot" xmlns:xacro="http://www.ros.org/wiki/xacro" >

    <xacro:property name="pi_const" value="3.14159265" />

    <!-- Size of the chassis -->
    <xacro:property name="l" value="0.4" />
    <xacro:property name="b" value="0.3" />
    <xacro:property name="h" value="0.1" />

    <!-- Size of the wheels -->
    <xacro:property name="r" value="0.1" />
    <xacro:property name="d" value="0.05" />

    <!-- Mass of the parts -->
    <xacro:property name="mass_chassis" value="15" />
    <xacro:property name="mass_wheel" value="5" />

    <!-- inertial Chassis -->
    <xacro:property name="Ix_body" value="${(1/12) * mass_chassis * (b*b + h*h)}" />
    <xacro:property name="Iy_body" value="${(1/12) * mass_chassis * (l*l + h*h)}" />
    <xacro:property name="Iz_body" value="${(1/12) * mass_chassis * (l*l + b*b)}" />

    <!-- Inertia Wheel -->
    <xacro:property name="Iy_wheel" value="${ 0.5*mass_wheel*r*r }" />
    <xacro:property name="I_wheel" value="${ mass_wheel*((d*d/12) + (r*r/4))}" />

    <xacro:include filename="$(find autonomous_robot_navigation)/urdf/materials.xacro" />

    <!-- <xacro:include filename="$(find autonomous_robot_navigation)/urdf/autonomous_robot.gazebo" /> -->

    <!-- Base Footprint -->
    <link name="base_footprint" />

    <!-- Base joint and link -->
    <joint name="footprint_base_joint" type="fixed" >
        <parent link="base_footprint" />
        <child link="base_link" />
        <origin xyz="0 0 0" rpy="0 0 0" />
    </joint>

    <link name="base_link" >

        <pose>0 0 0.1 0 0 0</pose>

        <visual>
            <origin xyz="0 0 0" rpy="0 0 0" />

            <geometry>
                <box size="${l} ${b} ${h}" />
            </geometry>

            <material name="white" />
        </visual>

        <collision>
            <origin xyz="0 0 0" rpy="0 0 0" />

            <geometry>
                <box size="${l} ${b} ${h}" />
            </geometry>
        </collision>

        <inertial>
            <origin xyz="0 0 0" rpy="0 0 0" />
            <mass value="${mass_chassis}" />
            <inertia ixx="${Ix_body}" ixy="0.0" ixz="0.0" iyy="${Iy_body}" iyz="0.0" izz="${Iz_body}"/>
        </inertial>
    </link>

</robot>
